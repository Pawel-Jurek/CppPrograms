\hypertarget{stolik_8h_source}{}\doxysection{stolik.\+h}
\label{stolik_8h_source}\index{C:/Users/pawel/source/repos/polsl-\/aei-\/pk2-\/katowice/76b4e121-\/gr11-\/repo/Projekt/Lokal\_gastronomiczny/Project1/stolik.h@{C:/Users/pawel/source/repos/polsl-\/aei-\/pk2-\/katowice/76b4e121-\/gr11-\/repo/Projekt/Lokal\_gastronomiczny/Project1/stolik.h}}
\mbox{\hyperlink{stolik_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{funkcje_8h}{funkcje.h}}"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}windows.h"{}} }
\DoxyCodeLine{10 }
\DoxyCodeLine{12 \textcolor{keyword}{class }\mbox{\hyperlink{class_stolik}{Stolik}}}
\DoxyCodeLine{13 \{}
\DoxyCodeLine{14 \textcolor{keyword}{protected}:}
\DoxyCodeLine{15     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}};                 }
\DoxyCodeLine{16     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}};           }
\DoxyCodeLine{17     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a2466832437474b1a978a1ced6327ab3c}{aktualni\_uzytkownicy}};   }
\DoxyCodeLine{18     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_stolik_ab872958d4978e8d68244eefcf89deebb}{wolny}};                    }
\DoxyCodeLine{19 \textcolor{keyword}{public}:}
\DoxyCodeLine{24     \mbox{\hyperlink{class_stolik_ab59fcb7ba79ee7ac5369a7b6de666434}{Stolik}}(\textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}}) : \mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}}(\mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}}), \mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}}(\mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}}), \mbox{\hyperlink{class_stolik_a2466832437474b1a978a1ced6327ab3c}{aktualni\_uzytkownicy}}(0), \mbox{\hyperlink{class_stolik_ab872958d4978e8d68244eefcf89deebb}{wolny}}(true) \{\}}
\DoxyCodeLine{25 }
\DoxyCodeLine{29     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a17b2bd0d6216f0518436cc0a3db298d2}{dostep\_do\_maxa}}() \{ \mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}}; \}}
\DoxyCodeLine{30 }
\DoxyCodeLine{34     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_a110c0792715e03e4254cf27c729a538e}{dostep\_numer\_stolika}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}}; \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{37     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_stolik_ad1dfd49dfcc0b98cef9db61fcd787aec}{pokaz\_stolik}}()}
\DoxyCodeLine{38     \{}
\DoxyCodeLine{39         std::cout << \mbox{\hyperlink{class_stolik_a317fed138c23934e771b27a7768792ef}{numer}} << \textcolor{stringliteral}{"{}. "{}} << \textcolor{stringliteral}{"{}max ilosc osob: "{}} << \mbox{\hyperlink{class_stolik_a03b404ab5903b947931a6a0795cf697e}{max\_ilosc\_osob}} << \textcolor{stringliteral}{"{} | ilosc korzystajacych:"{}} << \mbox{\hyperlink{class_stolik_a2466832437474b1a978a1ced6327ab3c}{aktualni\_uzytkownicy}} << \textcolor{stringliteral}{"{} | wolny: "{}} << \mbox{\hyperlink{class_stolik_ab872958d4978e8d68244eefcf89deebb}{wolny}} << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{40     \}}
\DoxyCodeLine{42     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_stolik_a78531a3b194807b00193a18ee06f941f}{zajmij}}()}
\DoxyCodeLine{43     \{}
\DoxyCodeLine{44         \mbox{\hyperlink{class_stolik_ab872958d4978e8d68244eefcf89deebb}{wolny}} = \textcolor{keyword}{false};}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_lista_stolikow}{ListaStolikow}};                                                                            }
\DoxyCodeLine{47     \textcolor{keyword}{friend} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_stolik_ab36d80df38e04e5a451b8782202023e5}{wyznacz\_id\_wolny\_stolik\_min\_os}}(std::vector<Stolik>\mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}, std::vector<int> pozycje);   }
\DoxyCodeLine{48 \};}
\DoxyCodeLine{49 }
\DoxyCodeLine{51 \textcolor{keyword}{class }\mbox{\hyperlink{class_lista_stolikow}{ListaStolikow}}}
\DoxyCodeLine{52 \{}
\DoxyCodeLine{53 \textcolor{keyword}{protected}:}
\DoxyCodeLine{54     std::vector<Stolik>\mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}};          }
\DoxyCodeLine{55 \textcolor{keyword}{public}:}
\DoxyCodeLine{59     std::vector<Stolik> \mbox{\hyperlink{class_lista_stolikow_ae9a8d35aa0521a1c5d4e30e8424a3348}{dostep\_stoliki}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}; \}}
\DoxyCodeLine{60     }
\DoxyCodeLine{64     \mbox{\hyperlink{class_lista_stolikow_a366310d688388128b9fac06bd0165bce}{ListaStolikow}}(std::string nazwa\_pliku)}
\DoxyCodeLine{65     \{}
\DoxyCodeLine{66         std::ifstream plikwej(nazwa\_pliku);}
\DoxyCodeLine{67         \textcolor{keywordflow}{if} (!plikwej)}
\DoxyCodeLine{68         \{}
\DoxyCodeLine{69             std::cerr << \textcolor{stringliteral}{"{}Error: nie mozna otworzyc pliku :( "{}} << nazwa\_pliku << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{70         \}       }
\DoxyCodeLine{71         \textcolor{keywordflow}{while} (\textcolor{keyword}{true})}
\DoxyCodeLine{72         \{}
\DoxyCodeLine{73             \textcolor{keywordtype}{int} nr, ilosc;}
\DoxyCodeLine{74             plikwej >> nr >> ilosc;}
\DoxyCodeLine{75             \textcolor{keywordflow}{if} (!plikwej.fail())}
\DoxyCodeLine{76             \{}
\DoxyCodeLine{77                 \mbox{\hyperlink{class_stolik}{Stolik}} stolik(nr, ilosc);}
\DoxyCodeLine{78                 \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}.push\_back(stolik);}
\DoxyCodeLine{79             \}}
\DoxyCodeLine{80             \textcolor{keywordflow}{else}}
\DoxyCodeLine{81                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{82         \}       }
\DoxyCodeLine{83     \};}
\DoxyCodeLine{84 }
\DoxyCodeLine{86     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_lista_stolikow_a24e20ae8cbff106f1790b30873882d5f}{wyswietl\_stoliki}}()}
\DoxyCodeLine{87     \{}
\DoxyCodeLine{88         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}.size(); i++)}
\DoxyCodeLine{89         \{}
\DoxyCodeLine{90             \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].pokaz\_stolik();}
\DoxyCodeLine{91         \}}
\DoxyCodeLine{92     \};}
\DoxyCodeLine{93     }
\DoxyCodeLine{95     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_lista_stolikow_ab5d86859326a77dda693b435bf71c27a}{zwolnij\_stolik}}(\textcolor{keywordtype}{int} poz)}
\DoxyCodeLine{96     \{}
\DoxyCodeLine{97         \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[poz].wolny = \textcolor{keyword}{true};}
\DoxyCodeLine{98         \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[poz].aktualni\_uzytkownicy = 0;}
\DoxyCodeLine{99     \}}
\DoxyCodeLine{100 }
\DoxyCodeLine{105     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_lista_stolikow_ad3c37a62ddb558ac63ff12c789401c53}{szukaj\_stolika}}(\textcolor{keywordtype}{int} ilosc\_chetnych)}
\DoxyCodeLine{106     \{}
\DoxyCodeLine{107         \textcolor{keywordtype}{bool} tmp = \textcolor{keyword}{false};}
\DoxyCodeLine{108         \textcolor{keywordtype}{int} pozycja\_zajeta=0;}
\DoxyCodeLine{109         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}.size(); i++)}
\DoxyCodeLine{110         \{}
\DoxyCodeLine{111             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].wolny == \textcolor{keyword}{true} \&\& \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].max\_ilosc\_osob == ilosc\_chetnych)}
\DoxyCodeLine{112             \{}
\DoxyCodeLine{113                 \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].zajmij();}
\DoxyCodeLine{114                 \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].aktualni\_uzytkownicy = ilosc\_chetnych;}
\DoxyCodeLine{115                 pozycja\_zajeta = i;}
\DoxyCodeLine{116                 tmp = \textcolor{keyword}{true};}
\DoxyCodeLine{117                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{118             \}}
\DoxyCodeLine{119         \}}
\DoxyCodeLine{120         std::vector<int>nr\_stolika\_do\_rezerwacji;}
\DoxyCodeLine{121         nr\_stolika\_do\_rezerwacji.resize(0);}
\DoxyCodeLine{122         \textcolor{keywordflow}{if} (tmp == \textcolor{keyword}{false})}
\DoxyCodeLine{123         \{}
\DoxyCodeLine{124             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}.size(); i++)}
\DoxyCodeLine{125             \{}
\DoxyCodeLine{126                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].wolny == \textcolor{keyword}{true} \&\& \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[i].max\_ilosc\_osob >= ilosc\_chetnych)}
\DoxyCodeLine{127                 \{}
\DoxyCodeLine{128                     nr\_stolika\_do\_rezerwacji.push\_back(i);}
\DoxyCodeLine{129                 \}}
\DoxyCodeLine{130             \}}
\DoxyCodeLine{131             \textcolor{keywordflow}{if} (!nr\_stolika\_do\_rezerwacji.empty())}
\DoxyCodeLine{132             \{}
\DoxyCodeLine{133                 \textcolor{keywordtype}{int} poz = \mbox{\hyperlink{funkcje_8cpp_ab36d80df38e04e5a451b8782202023e5}{wyznacz\_id\_wolny\_stolik\_min\_os}}(\mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}, nr\_stolika\_do\_rezerwacji);}
\DoxyCodeLine{134                 \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[poz].zajmij();}
\DoxyCodeLine{135                 \mbox{\hyperlink{class_lista_stolikow_ac2efa4e324dfae78d9e59594143f4075}{stoliki}}[poz].aktualni\_uzytkownicy = ilosc\_chetnych;}
\DoxyCodeLine{136                 pozycja\_zajeta = poz;}
\DoxyCodeLine{137                 tmp = \textcolor{keyword}{true};}
\DoxyCodeLine{138             \}}
\DoxyCodeLine{139             }
\DoxyCodeLine{140         \}}
\DoxyCodeLine{141         \textcolor{keywordflow}{return} pozycja\_zajeta;}
\DoxyCodeLine{142         \textcolor{keywordflow}{if} (tmp == \textcolor{keyword}{false})}
\DoxyCodeLine{143             std::cout << \textcolor{stringliteral}{"{}Nie udalo sie znalezc stolika :(\(\backslash\)n"{}};}
\DoxyCodeLine{144         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{145         Sleep(2000);}
\DoxyCodeLine{146     \};}
\DoxyCodeLine{147 \};}

\end{DoxyCode}
